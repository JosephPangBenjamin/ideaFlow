import{r as c,j as e,L as j}from"./index-AlMa9zhO.js";import{F as r,u as f,T as y,I as i,a as b,b as w,B as C}from"./useAuth-CXyDrBNh.js";import{M as m,C as I}from"./index-CcbGEtC5.js";const s=r.Item,{Title:N,Text:d}=y;function k(){const[u]=r.useForm(),[x,a]=c.useState(!1),{login:t}=f(),p=c.useCallback(async l=>{var o,n;a(!0);try{await t(l.username,l.password),m.success("登录成功！")}catch(h){const g=((n=(o=h.response)==null?void 0:o.data)==null?void 0:n.message)||"登录失败，请重试";m.error(g)}finally{a(!1)}},[t]);return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-purple-50",children:e.jsxs(I,{className:"w-full max-w-md p-8 shadow-xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx(N,{heading:2,className:"text-gray-800",children:"欢迎回来"}),e.jsx(d,{type:"secondary",children:"登录到 IdeaFlow"})]}),e.jsxs(r,{form:u,layout:"vertical",autoComplete:"off",onSubmit:p,children:[e.jsx(s,{label:"用户名",field:"username",rules:[{required:!0,message:"请输入用户名"}],children:e.jsx(i,{prefix:e.jsx(b,{}),placeholder:"请输入用户名",size:"large"})}),e.jsx(s,{label:"密码",field:"password",rules:[{required:!0,message:"请输入密码"}],children:e.jsx(i.Password,{prefix:e.jsx(w,{}),placeholder:"请输入密码",size:"large"})}),e.jsx(s,{children:e.jsx(C,{type:"primary",htmlType:"submit",long:!0,size:"large",loading:x,className:"mt-2",children:"登录"})})]}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs(d,{type:"secondary",children:["还没有账号？"," ",e.jsx(j,{to:"/register",className:"text-blue-600 hover:text-blue-800",children:"立即注册"})]})})]})})}export{k as LoginPage,k as default};
