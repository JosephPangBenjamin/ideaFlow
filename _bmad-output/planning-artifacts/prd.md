---
stepsCompleted: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11]
inputDocuments:
  - planning-artifacts/product-brief-ideaFlow-2025-12-28.md
  - stitch_/用户注册/登录_-_详细视图/screen.png
  - stitch_/仪表盘/任务概览/screen.png
  - stitch_/今天任务列表/screen.png
  - stitch_/即将到来任务列表/screen.png
  - stitch_/个人任务列表/screen.png
  - stitch_/项目任务列表/screen.png
  - stitch_/自由画布任务编辑/screen.png
  - stitch_/任务详情侧边栏/screen.png
  - stitch_/控件面板视图/screen.png
  - stitch_/团队协作/分享设置_1/screen.png
  - stitch_/团队协作/分享设置_2/screen.png
  - stitch_/团队协作/分享设置_3/screen.png
  - stitch_/团队协作/分享设置_4/screen.png
  - stitch_/团队协作/分享设置_5/screen.png
  - stitch_/新建任务详情视图/screen.png
  - stitch_/设置中心/screen.png
  - stitch_/设置中心_-_详细视图/screen.png
workflowType: 'prd'
lastStep: 0
documentCounts:
  briefs: 1
  research: 0
  brainstorming: 0
  projectDocs: 0
  uiDesigns: 17
---

# Product Requirements Document - IdeaFlow

**Author:** Offer
**Date:** 2025-12-29

---

## Executive Summary

**IdeaFlow** 是一款将**想法捕捉**与**任务执行**无缝融合的效率工具。它解决了现代知识工作者普遍面临的**想法碎片化**问题：灵感和想法散落在微信、截图、笔记等各种地方，随着时间推移逐渐被遗忘，即使偶然翻到也无法回忆起当时的场景和初衷。

IdeaFlow 通过可视化自由画布、上下文保留和AI智能分析，让每一个想法都能被追踪、演进和执行，帮助用户从"碎片化记录者"转变为"有条不紊的执行者"。

### What Makes This Special

| 差异化能力 | 描述 |
|-----------|------|
| 🧠 **上下文保留** | 自动记录"为什么记"，帮助未来的自己恢复记忆 |
| 🎨 **自由画布** | 像蓝湖一样缩放平移，像Word一样拉线标注 |
| 🔄 **一体化** | 从想法到任务无缝衔接，不再切换工具 |
| 🤖 **AI记忆辅助** | 智能浮现沉底想法，预测任务关联 |
| 📊 **双重进度追踪** | 时间线（什么时候做什么）+ 状态（做到哪了） |

**核心价值主张**：不只是更好的记录工具，而是**推动点子落地执行**的助手。

**设计原则**：「私密时自由，公开时体面」

---

## Project Classification

| 分类维度 | 值 |
|---------|-----|
| **技术类型** | Web App（SPA + PWA潜力） |
| **领域** | 效率/生产力工具（General） |
| **复杂度** | Medium |
| **项目上下文** | Greenfield - 全新项目 |

### 技术考量

基于 `web_app` 类型，需要关注：
- SPA 架构设计
- 浏览器兼容性
- 响应式设计
- 实时协作（WebSocket/CRDT）
- 自由画布渲染性能
- PWA 离线能力（未来）

### 复杂度因素

- 自由画布渲染和交互
- 实时多人协作
- AI 功能集成（后续版本）
- 数据同步和冲突处理

---

## Success Criteria

### User Success

| 成功指标 | 定义 | 目标 |
|---------|------|------|
| **点子激活率** | 用户重新打开并操作"沉底点子"的比例 | ≥30% 的点子在创建后2周内被再次访问 |
| **任务完成率** | 从点子转化为任务后的完成率 | ≥50% 的任务在创建后1个月内完成 |
| **Aha!时刻触达率** | 用户体验到提醒后采取行动 | ≥40% 的提醒导致用户行动 |

**核心用户成功定义**：
> 用户发现一个埋了多周的点子，开始执行，并最终完成。

### Business Success

| 时间节点 | 成功标准 |
|---------|---------|
| **3个月** | 用户注册数达标，周活跃用户稳定增长 |
| **6个月** | 付费转化率 ≥5%，用户留存率（7日）≥40% |
| **12个月** | 形成口碑传播，推荐转化率可观 |

### Technical Success

| 指标 | 目标 |
|------|------|
| **页面加载时间** | 首屏 < 2s |
| **画布操作流畅度** | 60fps 无卡顿 |
| **实时协作延迟** | < 500ms |
| **系统可用性** | 99.5% uptime |

### 🌟 North Star Metric（北极星指标）

**周活跃执行用户数（Weekly Active Executors, WAE）**

> 定义：每周至少**完成1个任务**的用户数

**选择理由**：
- 直接衡量核心价值"推动点子落地"
- 不易被刷数据
- 连接用户价值→商业价值

### 诊断指标

| 指标 | 定义 | 作用 |
|------|------|------|
| **点子→任务转化率** | 想法变成任务的比例 | 诊断"规划"环节 |
| **任务完成率** | 任务从创建到完成的比例 | 诊断"执行"环节 |
| **沉底点子激活数** | 被重新激活的7天+旧点子数 | 诊断"AI提醒"价值 |

---

## Product Scope

### MVP - Phase 1: Core Value（核心价值验证）- 2-4周

| 功能 | 描述 | 优先级 |
|------|------|--------|
| 手机号注册/登录 | 用户身份基础 | P0 |
| 快速创建想法 | 闪念捕捉 | P0 |
| 想法→任务转化 | 推动执行的核心 | P0 |
| 任务时间设置 | 创建/修改/完成时间追踪 | P0 |
| 进度追踪（状态管理） | 看到执行结果 | P0 |
| 任务分类/模块 | 基础组织能力 | P0 |

**目标**：验证"点子→任务→完成"的核心价值链

### Growth Features - Phase 2: Differentiation（差异化体验）- +2-3周

| 功能 | 描述 | 优先级 |
|------|------|--------|
| 自由画布 | 拖拽/缩放/平移，类蓝湖体验 | P1 |
| 拉线标注 | 可视化关联，类Word批注 | P1 |
| 公开/私密视图切换 | "私密时自由，公开时体面" | P1 |

**目标**：建立差异化竞争优势

### Vision - Phase 3: Collaboration（协作能力）- +2-3周

| 功能 | 描述 | 优先级 |
|------|------|--------|
| @成员分配任务 | 协作核心功能 | P2 |
| 团队协作/共享 | 多人共同编辑 | P2 |

**目标**：扩展到团队使用场景

### Out of Scope

| 功能 | 理由 | 计划时间 |
|------|------|----------|
| 移动端App | 先验证Web端价值 | V2.0 |
| 高级AI功能 | 需要更多数据积累 | V2.0 |
| 第三方登录 | 手机号已满足需求 | V1.5 |
| 导入/导出 | 非MVP核心 | V1.5 |

---

## User Journeys

### Journey 1: 小明 - 从点子到行动

**背景**：小明是大三商科学生，脑子里总有各种创业点子，但点子多执行少。

**他的故事**：

周二下午，小明在经济学课上听到老师讲"共享经济"，突然脑海中闪过一个想法——"校园闲置教材共享平台"！他赶紧打开手机备忘录输入"二手书共享"五个字，生怕忘记。

晚上刷抖音，看到一个大学生创业成功的视频，他又截了张图发给自己。躺在床上，他又想到可以加一个"预约功能"，但已经太困了，心想"明天再记吧"。

两周后的周末，小明终于有时间想创业的事。他翻遍了备忘录、微信收藏、相册，花了40分钟才把当时的想法凑全——然而那个"预约功能"的细节已经忘了。

**发现 IdeaFlow**：

室友推荐了 IdeaFlow。下午上课时有了新想法，他打开 IdeaFlow，3秒钟创建了一个想法"校园跑腿小程序"，系统自动记录了时间和来源上下文。

**突破时刻**：

周末，IdeaFlow 弹出提醒："你有3个想法放了超过7天，要不要看看？"

小明点进去，看到了自己的想法和当时的上下文。他把想法从画布拖到"调研"区域，点击"转为任务"，设置了这周末完成竞品分析。周日晚上，他完成了任务，标记为"已完成"。

**这是小明第一次真正把一个点子推进到了下一步。**

---

### Journey 2: 小红 - 从碎片到体系

**背景**：小红是工作3年的产品经理，负责多个项目并行，想法碎片化，执行需协作。

**她的故事**：

周一早会，领导提到"APP的新用户引导体验不够好"。小红在笔记本上快速写下"优化新用户引导"。通勤时看到竞品好设计，发给微信文件传输助手。下午开发问需求细节时，她翻了10分钟还是没找到相关记录。

**发现 IdeaFlow**：

周一早会，她直接在 IdeaFlow 创建想法，记录了需求+"老板说转化率低"+"重点是前3步"。通勤时把链接添加到画布上，拉线标注"借鉴点：动画引导"。

**突破时刻**：

周三@设计师时，点击"分享"，系统自动生成干净的公开视图。设计师小王看了3分钟就回复："懂了，按这个方向做！"

**这是小红第一次不用花30分钟解释需求背景。**

---

### Journey 3: 小王 - 从被动到共创

**背景**：小王是设计师，被小红@加入协作。

**他的故事**：

收到小红发来的 IdeaFlow 链接。以往需要来回问十几个问题，这次他点开链接，看到一个清晰的画布：核心需求、领导原话、竞品参考及标注说明。他花了5分钟就理解了需求的全貌。

**加入协作**：

小王注册账号加入团队，在画布上添加设计思路，拉线标注"建议用Lottie实现，性能更好"。小红可以实时看到设计方向的演进。

周五评审时，设计方案一次通过。开发问细节时，小王直接把画布链接甩出来："看这里，每个设计决策的原因都写了。"

**这是小王第一次不用反复解释设计的"为什么"。**

---

### Journey Requirements Summary

| 用户旅程 | 揭示的功能需求 |
|---------|---------------|
| **小明 - 点子到行动** | 快速捕捉、时间戳、来源上下文、7天沉底提醒、想法→任务转化、进度追踪 |
| **小红 - 碎片到体系** | 自由画布、拉线标注、多来源汇聚、公开/私密视图、@分享 |
| **小王 - 被动到共创** | 注册加入团队、画布协作编辑、实时同步、设计决策记录 |

---

## Innovation & Novel Patterns

### 核心创新：上下文保留

**挑战的假设**：传统工具只记录"what"（内容），不记录"why"（原因和场景）。

**IdeaFlow的创新**：
> 自动捕捉并保留想法的上下文——时间、用户补充的来源和原因，让用户未来能"恢复记忆"。

### 上下文采集策略

| 策略 | 内容 |
|------|------|
| **自动采集** | 时间、日期（不依赖用户输入） |
| **可选输入** | 来源、原因（用户有空时补充） |
| **隐私边界** | 不采集位置、设备等敏感信息 |

### UX设计原则

> **「创建时静默，回顾时惊艳」**

| 场景 | 设计 |
|------|------|
| **创建时** | 轻提示"💭 可选：补充来源或原因"，不打断记录流 |
| **回顾时** | 突出展示"记忆恢复"卡片，包含时间+当时的思考 |

### 验证方法（MVP）

| 方法 | 实施 | 成功标准 |
|------|------|---------|
| **轻量调查** | 用户打开7天+点子时显示"上下文有帮助吗？" | ≥70%选"有帮助" |
| **数据埋点** | 追踪沉底点子激活后停留时间 | 比新点子长2倍+ |

### 风险缓解

| 风险 | 缓解策略 |
|------|---------|
| 用户匆忙不填 | 自动采集时间，不依赖手动输入 |
| 隐私担忧 | MVP只采集时间+用户主动输入 |
| 上下文无人看 | "回顾时惊艳"的UI设计吸引注意 |

---

## Web App Specific Requirements

### 架构决策

| 决策点 | 选择 | 理由 |
|-------|------|------|
| **应用架构** | SPA (单页应用) | 更流畅的画布交互体验 |
| **浏览器支持** | 现代浏览器 | Chrome、Safari、Firefox最新版 |
| **SEO需求** | 暂无 | 应用内容需登录，不需要SEO |
| **实时方案** | 暂不实现 | MVP使用刷新同步，V2.0考虑WebSocket |
| **可访问性** | 基础级别 | MVP后根据反馈增强 |

### 浏览器兼容性矩阵

| 浏览器 | 最低版本 | 优先级 |
|-------|---------|--------|
| Chrome | 最新-2版本 | P0 |
| Safari | 最新-2版本 | P0 |
| Firefox | 最新-2版本 | P1 |
| Edge (Chromium) | 最新版本 | P1 |

### 协作模式

| 版本 | 协作方式 | 技术方案 |
|------|---------|---------|
| **MVP** | 刷新同步 | 普通HTTP请求 |
| **V2.0** | 实时协作 | WebSocket/CRDT |

### 响应式设计

| 设备 | 支持级别 |
|------|---------|
| Desktop (1280px+) | 完整功能 |
| Tablet (768px-1279px) | 核心功能 |
| Mobile (<768px) | 只读浏览（MVP） |

### 性能目标

| 指标 | 目标 |
|------|------|
| 首屏加载 | < 2s |
| 画布操作响应 | < 100ms |
| API响应时间 | < 300ms |
| Lighthouse得分 | ≥ 80 |

---

## Project Scoping & Phased Development

### MVP策略

**MVP类型**：问题解决型MVP + 差异化体验
**核心理念**：用最小功能集验证"点子→任务→完成"的核心价值链，同时提供自由画布差异化体验

### Phase 1: 核心价值 + 差异化体验（4-6周）

| 功能 | 优先级 | 说明 |
|------|--------|------|
| 手机号注册/登录 | P0 | 用户身份基础 |
| 快速创建想法 | P0 | 闪念捕捉 |
| **自由画布** | P0 | 拖拽/缩放/平移 |
| **拉线标注** | P0 | 可视化关联 |
| 想法→任务转化 | P0 | 推动执行的核心 |
| 任务时间设置 | P0 | 进度追踪基础 |
| 进度追踪（状态管理） | P0 | 看到执行结果 |
| 任务分类/模块 | P1 | 基础组织能力 |
| 上下文自动采集 | P0 | 时间+可选来源 |

**核心用户旅程支持**：小明（点子到行动）

### Phase 2: 展示优化（+2周）

| 功能 | 优先级 | 说明 |
|------|--------|------|
| 公开/私密视图切换 | P1 | "私密时自由，公开时体面" |
| 7天沉底提醒 | P1 | 通知提醒（简化版AI） |
| 记忆恢复卡片 | P1 | 回顾时惊艳展示 |

**核心用户旅程支持**：小红（碎片到体系）

### Phase 3: 协作能力（+2-3周）

| 功能 | 优先级 | 说明 |
|------|--------|------|
| @成员分配任务 | P2 | 协作核心功能 |
| 团队协作/共享 | P2 | 刷新同步（非实时） |
| 加入团队注册 | P2 | 协作者入口 |

**核心用户旅程支持**：小王（被动到共创）

### 范围变更记录

| 变更 | 原计划 | 新计划 | 理由 |
|------|--------|--------|------|
| 自由画布 | Phase 2 | Phase 1 | 核心差异化体验 |
| 拉线标注 | Phase 2 | Phase 1 | 与画布配套 |
| 实时协作 | Phase 3 | V2.0 | 降低MVP复杂度 |

### 风险缓解策略

| 风险类型 | 风险 | 缓解策略 |
|---------|------|---------|
| **技术** | 画布性能 | 限制单画布≤100节点，先基础版后优化 |
| **市场** | 用户不认可价值 | Phase 1快速上线验证 |
| **资源** | 开发时间超预期 | 严控P1功能，P1可降级 |

---

## Functional Requirements

### 用户身份管理

| ID | 需求 | Phase |
|----|------|-------|
| FR1 | 用户可以使用手机号注册账号 | 1 |
| FR2 | 用户可以使用手机号登录系统 | 1 |
| FR3 | 用户可以退出登录 | 1 |
| FR4 | 用户可以修改个人基本信息 | 1 |

### 想法捕捉

| ID | 需求 | Phase |
|----|------|-------|
| FR5 | 用户可以快速创建想法（闪念捕捉） | 1 |
| FR6 | 系统自动记录想法的创建时间 | 1 |
| FR7 | 用户可以可选地添加想法来源或原因 | 1 |
| FR8 | 用户可以查看想法列表 | 1 |
| FR9 | 用户可以编辑已创建的想法 | 1 |
| FR10 | 用户可以删除想法 | 1 |

### 自由画布

| ID | 需求 | Phase |
|----|------|-------|
| FR11 | 用户可以在画布上自由拖拽想法节点 | 1 |
| FR12 | 用户可以缩放画布视图 | 1 |
| FR13 | 用户可以平移画布视图 | 1 |
| FR14 | 用户可以在节点之间绘制连线（拉线标注） | 1 |
| FR15 | 用户可以为连线添加文字标注 | 1 |
| FR16 | 用户可以删除连线 | 1 |
| FR17 | 用户可以创建多个画布 | 1 |
| FR18 | 用户可以在画布间切换 | 1 |
| FR38 | 用户可以在画布上创建区域（视觉分组） | 1 |
| FR39 | 用户可以将节点拖入区域进行分组 | 1 |

### 任务管理

| ID | 需求 | Phase |
|----|------|-------|
| FR19 | 用户可以将想法转化为任务 | 1 |
| FR20 | 用户可以设置任务的时间（截止日期） | 1 |
| FR21 | 用户可以修改任务状态（待办/进行中/已完成） | 1 |
| FR22 | 用户可以查看任务进度 | 1 |
| FR23 | 用户可以对任务进行分类（模块） | 1 |
| FR24 | 用户可以查看任务列表（按分类筛选） | 1 |
| FR25 | 用户可以编辑任务详情 | 1 |
| FR26 | 用户可以删除任务 | 1 |

### 搜索与筛选

| ID | 需求 | Phase |
|----|------|-------|
| FR40 | 用户可以搜索想法和任务 | 1 |
| FR41 | 用户可以按时间/状态/分类筛选列表 | 1 |

### 上下文与记忆

| ID | 需求 | Phase |
|----|------|-------|
| FR27 | 用户可以查看想法的创建上下文（时间+来源） | 1 |
| FR28 | 系统可以识别7天+未操作的"沉底点子" | 2 |
| FR29 | 系统可以向用户发送沉底点子提醒 | 2 |
| FR30 | 用户可以查看"记忆恢复"卡片展示 | 2 |

### 视图与展示

| ID | 需求 | Phase |
|----|------|-------|
| FR31 | 用户可以切换公开/私密视图 | 2 |
| FR32 | 系统可以生成干净的公开分享视图 | 2 |

### 通知功能

| ID | 需求 | Phase |
|----|------|-------|
| FR43 | 用户可以查看系统通知列表 | 2 |
| FR44 | 用户可以设置通知偏好 | 2 |

### 团队协作

| ID | 需求 | Phase |
|----|------|-------|
| FR33 | 用户可以通过链接分享画布给他人 | 3 |
| FR34 | 受邀用户可以注册并加入团队 | 3 |
| FR35 | 用户可以@成员分配任务 | 3 |
| FR36 | 团队成员可以查看共享画布 | 3 |
| FR37 | 团队成员可以在画布上添加内容 | 3 |

### 数据埋点

| ID | 需求 | Phase |
|----|------|-------|
| FR42 | 系统记录关键用户行为（idea_created, task_completed等） | 1 |

### 统计

- **总需求数**：46个（+2个新增）
- **Phase 1**：34个
- **Phase 2**：7个
- **Phase 3**：5个

### 新增功能需求（派对模式补充）

| ID | 需求 | Phase |
|----|------|-------|
| FR45 | 用户可以使用用户名+密码注册/登录 | 1 |
| FR46 | 用户可以使用第三方账号登录（微信/Apple ID） | 2 |

---

## Non-Functional Requirements

### 性能

| ID | 需求 | 目标值 |
|----|------|--------|
| NFR1 | 首屏加载时间（4G/WiFi） | < 2s |
| NFR2 | 画布节点拖拽响应 | < 100ms |
| NFR3 | 画布缩放平移响应 | 60fps 无卡顿 |
| NFR4 | API响应时间（正常网络） | < 300ms |
| NFR5 | 单画布最大节点数 | ≤100个 |

### 安全

| ID | 需求 | 说明 |
|----|------|------|
| NFR6 | 用户密码加密存储 | bcrypt或argon2 |
| NFR7 | 数据传输加密 | HTTPS/TLS 1.2+ |
| NFR8 | Session管理 | JWT 24h过期 + Refresh Token 7天 |
| NFR9 | 私密内容访问控制 | 仅创建者可见 |
| NFR10 | 分享链接权限控制 | 仅授权用户可访问 |
| NFR25 | 隐私合规 | 符合个人信息保护法 |
| NFR26 | 密码强度验证 | ≥8位，含字母和数字 |

### 用户反馈

| ID | 需求 | 说明 |
|----|------|------|
| NFR19 | 加载状态显示 | 所有等待操作必须显示loading |
| NFR20 | 防重复提交 | 按钮点击后显示loading，禁用重复点击 |
| NFR21 | 错误提示 | API失败时显示友好提示+重试按钮 |
| NFR22 | 表单验证反馈 | 错误即时显示在对应字段下方 |
| NFR23 | 离线提示 | 网络断开显示提示，恢复后自动重连 |

### 可靠性

| ID | 需求 | 目标值 |
|----|------|--------|
| NFR11 | 系统可用性 | 99.5% uptime |
| NFR12 | 数据自动保存 | 操作后≤3秒保存，离线时本地缓存 |
| NFR13 | 数据备份 | 每日备份，保留7天 |
| NFR14 | 错误恢复 | 自动保存草稿，防止丢失 |
| NFR24 | 日志记录 | 记录关键操作日志，支持运维排查 |

### 浏览器兼容性

| ID | 需求 | 范围 |
|----|------|------|
| NFR15 | 支持Chrome | 最新-2版本 |
| NFR16 | 支持Safari | 最新-2版本 |
| NFR17 | 支持Firefox | 最新-2版本 |
| NFR18 | 支持Edge | 最新版本 |

### 统计

- **总NFR数**：26个
- 性能：5个
- 安全：7个
- 用户反馈：5个
- 可靠性：5个
- 兼容性：4个

